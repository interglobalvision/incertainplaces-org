{"version":3,"sources":["main.js"],"names":["afterAjaxLoad","ajaxContent","detectBrightness","fullWidth","getImageBrightness","init","l","layout","marginBasic","openLevel1","removeHomeSlides","submenus","windowHeight","windowWidth","mobileWidth","data","console","log","$","window","innerWidth","innerHeight","parseInt","css","on","resize","document","load","ready","ajaxArtistLinks","ajaxLinks","ajaxProjectLinks","ajaxStudentLinks","homeSlide","homeSlideLength","homeSlideshow","target","tooltip","tooltipOffset","location","hash","substr","perfectScrollbar","suppressScrollX","hasClass","length","each","background","this","setInterval","active","activeIndex","next","clearInterval","index","removeClass","eq","addClass","click","e","preventDefault","toggle","toggleClass","hide","show","parents","mouseenter","image","attr","mousemove","top","pageY","left","pageX","mouseleave","off","hover","children","keypress","which","trigger","submit","dataArray","url","stopPropagation","replace","concat","serializeArray","item","name","value","ajax","dataType","error","err","text","alert","success","result","msg","val","html","href","textContent","cycle","Modernizr","history","pushState","content","imagesLoaded","animate","scrollTop","height","title","remove","img","canvas","brightness","imageSrc","callback","colorSum","createElement","src","style","display","body","appendChild","onload","avg","b","ctx","g","imageData","len","r","x","width","getContext","drawImage","getImageData","Math","floor"],"mappings":"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","file":"main.min.js","sourcesContent":["var afterAjaxLoad, ajaxContent, detectBrightness, fullWidth, getImageBrightness, init, l, layout, marginBasic, openLevel1, removeHomeSlides, submenus, windowHeight, windowWidth;\n\nfullWidth = 1487;\nmobileWidth = 600;\n\nl = function(data) {\n  return console.log(data);\n};\n\nwindowWidth = $(window).innerWidth();\n\nwindowHeight = $(window).innerHeight();\n\nmarginBasic = parseInt($('#main-container').css('padding-top'));\n\nsubmenus = $('.submenu');\n\najaxContent = $('#ajax-content');\n\ninit = function() {\n  $(window).on({\n    'resize': function() {\n      layout();\n    },\n  });\n};\n\n$(document).on({\n  'load': function() {\n    init();\n    layout();\n  },\n});\n\n$(document).ready(function($) {\n  var ajaxArtistLinks, ajaxLinks, ajaxProjectLinks, ajaxStudentLinks, homeSlide, homeSlideLength, homeSlideshow, target, tooltip, tooltipOffset;\n\n  if (window.location.hash) {\n    target = window.location.hash.substr(3);\n    if (target === 'menu') {\n      removeHomeSlides();\n      window.location.hash = '';\n    } else {\n      openLevel1(target);\n      window.location.hash = '';\n    }\n  }\n\n  $('.col-inner').perfectScrollbar({\n    'suppressScrollX': true,\n  });\n\n  layout();\n\n  if ($('body').hasClass('home')) {\n    homeSlide = $('.home-slide');\n    homeSlideLength = homeSlide.length;\n    homeSlide.each(function() {\n      var background;\n\n      background = $(this).data('background');\n      return detectBrightness($(this), background);\n    });\n\n    homeSlideshow = window.setInterval(function() {\n      var active, activeIndex, background, next;\n\n      if ($('#home-slides').length) {\n        active = $('.home-slide.active');\n        activeIndex = active.index();\n        active.data('background', false);\n        if (activeIndex === (homeSlideLength - 1)) {\n          homeSlide.css('opacity', 0).removeClass('active');\n          next = homeSlide.eq(0);\n          next.css('opacity', 1).addClass('active');\n          if (next.data('brightness')) {\n            return $('body').removeClass('active-slide-dark').removeClass('active-slide-light').addClass('active-slide-' + next.data('brightness'));\n          }\n        } else {\n          homeSlide.css('opacity', 0).removeClass('active');\n          next = homeSlide.eq(activeIndex + 1);\n          background = next.data('background');\n          if (next.data('background')) {\n            next.css('background-image', 'url(' + background + ')').data('background', false);\n          }\n\n          next.css('opacity', 1).addClass('active');\n          if (next.data('brightness')) {\n            return $('body').removeClass('active-slide-dark').removeClass('active-slide-light').addClass('active-slide-' + next.data('brightness'));\n          }\n        }\n      } else {\n        return window.clearInterval(homeSlideshow);\n      }\n    }, 4500);\n\n    $('#home-click').click(function() {\n      removeHomeSlides();\n      window.clearInterval(homeSlideshow);\n      return $('body').removeClass('active-slide-dark').removeClass('active-slide-light').removeClass('no-min-width');\n    });\n  }\n\n  $('.menu-item').click(function(e) {\n    target = $(this).data('target');\n\n    if ($('.home').length) {\n      e.preventDefault();\n      $('#home-' + target).toggle();\n      $(this).toggleClass('active');\n      return layout();\n    } else if (target === 'shop') {\n\n    } else if ($('.single-' + target).length || $('.post-type-archive-' + target).length) {\n      e.preventDefault();\n      $('.submenu-level-2').hide();\n      $('.submenu-level-3').hide();\n      $('#submenu-level-1').toggle();\n      return layout();\n    }\n  });\n  $('.js-open-level-1').click(function(e) {\n    target = $(this).data('target');\n\n    openLevel1(target);\n    return layout();\n  });\n  $('.js-open-level-2').click(function(e) {\n    target = $(this).data('target');\n\n    submenus.hide();\n    $('#submenu-level-1').show();\n    $(this).parents('.submenu-level-2').show();\n    $('#submenu-' + target).show();\n    return layout();\n  });\n\n  if ($('html').hasClass('no-touch')) {\n    tooltip = $('#tooltip');\n    tooltipOffset = 10;\n\n    $('.js-tooltip').on({\n      'mouseenter': function() {\n        var image;\n\n        image = $(this).data('hover-image');\n        tooltip.attr('src', image).show();\n        return $(window).mousemove(function(e) {\n          return tooltip.css({\n            'top': (e.pageY + tooltipOffset) + 'px',\n            'left': (e.pageX + tooltipOffset) + 'px',\n          });\n        });\n      },\n\n      'mouseleave': function() {\n        $(window).off();\n        return tooltip.hide();\n      },\n    });\n  }\n\n  $('.has-hover-image').hover(function() {\n    if (!$(this).hasClass('js-lazy-loaded')) {\n      target = $(this).children().children();\n      target.attr('src', target.data('src'));\n      return $(this).addClass('js-lazy-loaded');\n    }\n  });\n\n  $('#mce-EMAIL').keypress(function(e) {\n    if (e.which === 10 || e.which === 13) {\n      return $('#mc-embedded-subscribe-form').trigger('submit');\n    }\n  });\n\n  $('#mc-embedded-subscribe-form').submit(function(e) {\n    var data, dataArray, url;\n\n    e.preventDefault();\n    e.stopPropagation();\n    url = $(this).attr('action').replace('/post?', '/post-json?').concat('&c=?');\n    data = {};\n    dataArray = $(this).serializeArray();\n    $.each(dataArray, function(index, item) {\n      return data[item.name] = item.value;\n    });\n    $.ajax({\n      url: url,\n      data: data,\n      dataType: 'jsonp',\n      error: function(err, text) {\n        l(\"Mailchimp error:\");\n        l(text);\n        l(err);\n        return alert(\"Subscription failure.\");\n      },\n\n      success: function(data) {\n        if (data.result === \"success\") {\n          $('#mc-embedded-subscribe-form').hide();\n          return $('#mc-embedded-subscribe-thanks').show();\n        } else {\n          l(data);\n          return alert(\"Subscription failure. \" + data.msg);\n        }\n      },\n    });\n    return $('#mce-EMAIL').val('');\n  });\n\n  ajaxLinks = $('.js-ajax');\n  ajaxLinks.click(function(e) {\n    e.preventDefault();\n    ajaxContent.html('loading...').load(e.target.href + ' article.js-content', function() {\n      return afterAjaxLoad(e.target.textContent, e.target.href);\n    }).show();\n    ajaxLinks.removeClass('active-ajax');\n    return $(this).addClass('active-ajax');\n  });\n\n  ajaxProjectLinks = $('.js-ajax-projects');\n  ajaxProjectLinks.click(function(e) {\n    if ($('.single-projects').length || $('.post-type-archive-projects').length) {\n      e.preventDefault();\n      ajaxContent.html('loading...').load(e.target.href + ' article.js-content', function() {\n        return afterAjaxLoad(e.target.textContent, e.target.href);\n      }).show();\n      ajaxProjectLinks.removeClass('active-ajax');\n      return $(this).addClass('active-ajax');\n    }\n  });\n\n  ajaxArtistLinks = $('.js-ajax-artists');\n  ajaxArtistLinks.click(function(e) {\n    if ($('.single-artists').length || $('.post-type-archive-artists').length) {\n      e.preventDefault();\n      ajaxContent.html('loading...').load(e.target.href + ' article.artists', function() {\n        return afterAjaxLoad(e.target.textContent, e.target.href);\n      }).show();\n      ajaxArtistLinks.removeClass('active-ajax');\n      return $(this).addClass('active-ajax');\n    }\n  });\n\n  ajaxStudentLinks = $('.js-ajax-students');\n  ajaxStudentLinks.click(function(e) {\n    if ($('.single-students').length || $('.post-type-archive-students').length || $('.page').length) {\n      e.preventDefault();\n      ajaxContent.html('loading...').load(e.target.href + ' article.students', function() {\n        return afterAjaxLoad(e.target.textContent, e.target.href);\n      }).show();\n      ajaxStudentLinks.removeClass('active-ajax');\n      return $(this).addClass('active-ajax');\n    }\n  });\n\n  return $('.js-open-ma-information').click(function(e) {\n    e.preventDefault();\n    submenus.hide();\n    ajaxStudentLinks.removeClass('active-ajax');\n    $('#submenu-level-1').show();\n    target = $(this).data('target');\n    return ajaxContent.html('loading...').load(target + ' article.js-content', function() {\n      $('.cycle-slideshow').cycle();\n      if (Modernizr.history) {\n        history.pushState(null, null, target);\n      }\n\n      return content.imagesLoaded(function() {\n        return layout();\n      }).animate({\n        scrollTop: 0,\n      }, 'fast');\n    }).show();\n  });\n});\n\nlayout = function() {\n  windowWidth = $(window).innerWidth();\n  windowHeight = $(window).innerHeight();\n\n  if (windowWidth > mobileWidth) {\n    return $('.col').css({\n      'height': (windowHeight - marginBasic) + 'px',\n    });\n  } else {\n    return $('.col').css({\n      'height': 'auto',\n    });\n  }\n};\n\nafterAjaxLoad = function(title, href) {\n  $('.cycle-slideshow').cycle();\n\n  if (Modernizr.history) {\n    history.pushState(null, title, href);\n  }\n\n  $('#main-content').imagesLoaded(function() {\n    return $('#ajax-content').perfectScrollbar('destroy').perfectScrollbar({\n      'suppressScrollX': true,\n    });\n  }).animate({\n    scrollTop: 0,\n  }, 'fast');\n\n  return init();\n};\n\nremoveHomeSlides = function() {\n  $('#home-click').remove();\n  $('#home-slides').remove();\n\n  return $('#menu').show();\n};\n\nopenLevel1 = function(target) {\n  submenus.hide();\n  $('#submenu-level-1').show();\n\n  return $('#submenu-' + target).show();\n};\n\ndetectBrightness = function(target, img) {\n  if (Modernizr.canvas) {\n    return getImageBrightness(img, function(brightness) {\n      if (brightness > 127.5) {\n        target.addClass('font-dark').data('brightness', 'dark');\n        if (target.hasClass('active')) {\n          return $('body').addClass('active-slide-dark');\n        }\n      } else {\n        target.addClass('font-light').data('brightness', 'light');\n        if (target.hasClass('active')) {\n          return $('body').addClass('active-slide-light');\n        }\n      }\n    });\n  }\n};\n\ngetImageBrightness = function(imageSrc, callback) {\n  var colorSum, img;\n\n  img = document.createElement(\"img\");\n  img.src = imageSrc;\n  img.style.display = \"none\";\n  document.body.appendChild(img);\n  colorSum = 0;\n  return img.onload = function() {\n    var avg, b, brightness, canvas, ctx, data, g, imageData, len, r, x;\n\n    canvas = document.createElement(\"canvas\");\n    canvas.width = this.width;\n    canvas.height = this.height;\n    ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(this, 0, 0);\n    imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    data = imageData.data;\n    r;\n    g;\n    b;\n    avg;\n    x = 0;\n    len = data.length;\n    while (x < len) {\n      r = data[x];\n      g = data[x + 1];\n      b = data[x + 2];\n      avg = Math.floor((r + g + b) / 3);\n      colorSum += avg;\n      x += 4;\n    }\n\n    brightness = Math.floor(colorSum / (this.width * this.height));\n    return callback(brightness);\n  };\n};"],"sourceRoot":"/source/"}