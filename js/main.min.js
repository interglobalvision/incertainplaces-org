var afterAjaxLoad,ajaxContent,detectBrightness,fullWidth,getImageBrightness,init,l,layout,marginBasic,openLevel1,removeHomeSlides,submenus,windowHeight,windowWidth;fullWidth=1487,l=function(e){return console.log(e)},windowWidth=$(window).innerWidth(),windowHeight=$(window).innerHeight(),marginBasic=parseInt($("#main-container").css("padding-top")),submenus=$(".submenu"),ajaxContent=$("#ajax-content"),init=function(){return $(window).on({resize:function(){return layout()}})},$(document).on({load:function(){return init(),layout()}}),$(document).ready(function(e){var t,a,n,s,i,r,o,c,d,u;return window.location.hash&&(c=window.location.hash.substr(3),"menu"===c?(removeHomeSlides(),window.location.hash=""):(openLevel1(c),window.location.hash="")),e(".col-inner").perfectScrollbar({suppressScrollX:!0}),layout(),e("body").hasClass("home")&&(i=e(".home-slide"),r=i.length,i.each(function(){var t;return t=e(this).data("background"),detectBrightness(e(this),t)}),o=window.setInterval(function(){var t,a,n,s;if(!e("#home-slides").length)return window.clearInterval(o);if(t=e(".home-slide.active"),a=t.index(),t.data("background",!1),a===r-1){if(i.css("opacity",0).removeClass("active"),s=i.eq(0),s.css("opacity",1).addClass("active"),s.data("brightness"))return e("body").removeClass("active-slide-dark").removeClass("active-slide-light").addClass("active-slide-"+s.data("brightness"))}else if(i.css("opacity",0).removeClass("active"),s=i.eq(a+1),n=s.data("background"),s.data("background")&&s.css("background-image","url("+n+")").data("background",!1),s.css("opacity",1).addClass("active"),s.data("brightness"))return e("body").removeClass("active-slide-dark").removeClass("active-slide-light").addClass("active-slide-"+s.data("brightness"))},4500),e("#home-click").click(function(){return removeHomeSlides(),window.clearInterval(o),e("body").removeClass("active-slide-dark").removeClass("active-slide-light").removeClass("no-min-width")})),e(".menu-item").click(function(t){if(c=e(this).data("target"),e(".home").length)return t.preventDefault(),e("#home-"+c).toggle(),e(this).toggleClass("active"),layout();if("shop"===c);else if(e(".single-"+c).length||e(".post-type-archive-"+c).length)return t.preventDefault(),e(".submenu-level-2").hide(),e(".submenu-level-3").hide(),e("#submenu-level-1").toggle(),layout()}),e(".js-open-level-1").click(function(t){return c=e(this).data("target"),openLevel1(c),layout()}),e(".js-open-level-2").click(function(t){return c=e(this).data("target"),submenus.hide(),e("#submenu-level-1").show(),e(this).parents(".submenu-level-2").show(),e("#submenu-"+c).show(),layout()}),e("html").hasClass("no-touch")&&(d=e("#tooltip"),u=10,e(".js-tooltip").on({mouseenter:function(){var t;return t=e(this).data("hover-image"),d.attr("src",t).show(),e(window).mousemove(function(e){return d.css({top:e.pageY+u+"px",left:e.pageX+u+"px"})})},mouseleave:function(){return e(window).off(),d.hide()}})),e(".has-hover-image").hover(function(){return e(this).hasClass("js-lazy-loaded")?void 0:(c=e(this).children().children(),c.attr("src",c.data("src")),e(this).addClass("js-lazy-loaded"))}),e("#mce-EMAIL").keypress(function(t){return 10===t.which||13===t.which?e("#mc-embedded-subscribe-form").trigger("submit"):void 0}),e("#mc-embedded-subscribe-form").submit(function(t){var a,n,s;return t.preventDefault(),t.stopPropagation(),s=e(this).attr("action").replace("/post?","/post-json?").concat("&c=?"),a={},n=e(this).serializeArray(),e.each(n,function(e,t){return a[t.name]=t.value}),e.ajax({url:s,data:a,dataType:"jsonp",error:function(e,t){return l("Mailchimp error:"),l(t),l(e),alert("Subscription failure.")},success:function(t){return"success"===t.result?(e("#mc-embedded-subscribe-form").hide(),e("#mc-embedded-subscribe-thanks").show()):(l(t),alert("Subscription failure. "+t.msg))}}),e("#mce-EMAIL").val("")}),a=e(".js-ajax"),a.click(function(t){return t.preventDefault(),ajaxContent.html("loading...").load(t.target.href+" article.js-content",function(){return afterAjaxLoad(t.target.textContent,t.target.href)}).show(),a.removeClass("active-ajax"),e(this).addClass("active-ajax")}),n=e(".js-ajax-projects"),n.click(function(t){return e(".single-projects").length||e(".post-type-archive-projects").length?(t.preventDefault(),ajaxContent.html("loading...").load(t.target.href+" article.js-content",function(){return afterAjaxLoad(t.target.textContent,t.target.href)}).show(),n.removeClass("active-ajax"),e(this).addClass("active-ajax")):void 0}),t=e(".js-ajax-artists"),t.click(function(a){return e(".single-artists").length||e(".post-type-archive-artists").length?(a.preventDefault(),ajaxContent.html("loading...").load(a.target.href+" article.artists",function(){return afterAjaxLoad(a.target.textContent,a.target.href)}).show(),t.removeClass("active-ajax"),e(this).addClass("active-ajax")):void 0}),s=e(".js-ajax-students"),s.click(function(t){return e(".single-students").length||e(".post-type-archive-students").length||e(".page").length?(t.preventDefault(),ajaxContent.html("loading...").load(t.target.href+" article.students",function(){return afterAjaxLoad(t.target.textContent,t.target.href)}).show(),s.removeClass("active-ajax"),e(this).addClass("active-ajax")):void 0}),e(".js-open-ma-information").click(function(t){return t.preventDefault(),submenus.hide(),s.removeClass("active-ajax"),e("#submenu-level-1").show(),c=e(this).data("target"),ajaxContent.html("loading...").load(c+" article.js-content",function(){return e(".cycle-slideshow").cycle(),Modernizr.history&&history.pushState(null,null,c),content.imagesLoaded(function(){return layout()}).animate({scrollTop:0},"fast")}).show()})}),layout=function(){return windowWidth=$(window).innerWidth(),windowHeight=$(window).innerHeight(),$(".col").css({height:windowHeight-marginBasic+"px"})},afterAjaxLoad=function(e,t){return $(".cycle-slideshow").cycle(),Modernizr.history&&history.pushState(null,e,t),$("#main-content").imagesLoaded(function(){return $("#ajax-content").perfectScrollbar("destroy").perfectScrollbar({suppressScrollX:!0})}).animate({scrollTop:0},"fast"),init()},removeHomeSlides=function(){return $("#home-click").remove(),$("#home-slides").remove(),$("#menu").show()},openLevel1=function(e){return submenus.hide(),$("#submenu-level-1").show(),$("#submenu-"+e).show()},detectBrightness=function(e,t){return Modernizr.canvas?getImageBrightness(t,function(t){if(t>127.5){if(e.addClass("font-dark").data("brightness","dark"),e.hasClass("active"))return $("body").addClass("active-slide-dark")}else if(e.addClass("font-light").data("brightness","light"),e.hasClass("active"))return $("body").addClass("active-slide-light")}):void 0},getImageBrightness=function(e,t){var a,n;return n=document.createElement("img"),n.src=e,n.style.display="none",document.body.appendChild(n),a=0,n.onload=function(){var e,n,s,i,r,o,l,c,d,u,h;for(i=document.createElement("canvas"),i.width=this.width,i.height=this.height,r=i.getContext("2d"),r.drawImage(this,0,0),c=r.getImageData(0,0,i.width,i.height),o=c.data,h=0,d=o.length;d>h;)u=o[h],l=o[h+1],n=o[h+2],e=Math.floor((u+l+n)/3),a+=e,h+=4;return s=Math.floor(a/(this.width*this.height)),t(s)}};
//# sourceMappingURL=main.min.js.map
